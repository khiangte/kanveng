(function(){var t,e,r,n,a,u,i,o,s,c,d,l,h,y,m,f,p;r=function(){return document.querySelectorAll&&document.addEventListener},r()&&(isNaN(Date.parse("2011-01-01T12:00:00-05:00"))&&(o=Date.parse,a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|[-+]?[\d:]+)$/,Date.parse=function(t){var e,r,n,u,i,s,c,d,l,h;return t=t.toString(),(u=t.match(a))&&(e=u[0],l=u[1],s=u[2],r=u[3],n=u[4],i=u[5],d=u[6],h=u[7],"Z"!==h&&(c=h.replace(":","")),t=l+"/"+s+"/"+r+" "+n+":"+i+":"+d+" GMT"+[c]),o(t)}),p="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),u="January February March April May June July August September October November December".split(" "),i=function(t){return("0"+t).slice(-2)},m=function(t,e){var r,n,a,o,s,c,d;return n=t.getDay(),r=t.getDate(),s=t.getMonth(),d=t.getFullYear(),a=t.getHours(),o=t.getMinutes(),c=t.getSeconds(),e.replace(/%([%aAbBcdeHIlmMpPSwyYZ])/g,function(e){var l,h,y,f;switch(l=e[0],h=e[1]){case"%":return"%";case"a":return p[n].slice(0,3);case"A":return p[n];case"b":return u[s].slice(0,3);case"B":return u[s];case"c":return t.toString();case"d":return i(r);case"e":return r;case"H":return i(a);case"I":return i(m(t,"%l"));case"l":return 0===a||12===a?12:(a+12)%12;case"m":return i(s+1);case"M":return i(o);case"p":return a>11?"PM":"AM";case"P":return a>11?"pm":"am";case"S":return i(c);case"w":return n;case"y":return i(d%100);case"Y":return d;case"Z":return null!=(y=null!=(f=t.toString().match(/\((\w+)\)$/))?f[1]:void 0)?y:""}})},t=function(){function t(t,e,r){this.date=new Date(Date.UTC(t,e-1)),this.date.setUTCDate(r),this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth()+1,this.day=this.date.getUTCDate(),this.value=this.date.getTime()}return t.fromDate=function(t){return new this(t.getFullYear(),t.getMonth()+1,t.getDate())},t.today=function(){return this.fromDate(new Date)},t.prototype.equals=function(t){return(null!=t?t.value:void 0)===this.value},t.prototype.is=function(t){return this.equals(t)},t.prototype.isToday=function(){return this.is(this.constructor.today())},t.prototype.occursOnSameYearAs=function(t){return this.year===(null!=t?t.year:void 0)},t.prototype.occursThisYear=function(){return this.occursOnSameYearAs(this.constructor.today())},t.prototype.daysSince=function(t){return t?(this.date-t.date)/864e5:void 0},t.prototype.daysPassed=function(){return this.constructor.today().daysSince(this)},t}(),e=function(){function e(e){this.date=e,this.calendarDate=t.fromDate(this.date)}return e.prototype.toString=function(){var t,e;return(t=this.timeElapsed())?t+" ago":(e=this.relativeWeekday())?e+" at "+this.formatTime():"on "+this.formatDate()},e.prototype.toTimeOrDateString=function(){return this.calendarDate.isToday()?this.formatTime():this.formatDate()},e.prototype.timeElapsed=function(){var t,e,r,n;return r=(new Date).getTime()-this.date.getTime(),n=Math.round(r/1e3),e=Math.round(n/60),t=Math.round(e/60),0>r?null:10>n?"a second":45>n?n+" seconds":90>n?"a minute":45>e?e+" minutes":90>e?"an hour":24>t?t+" hours":null},e.prototype.relativeWeekday=function(){switch(this.calendarDate.daysPassed()){case 0:return"today";case 1:return"yesterday";case 2:case 3:case 4:case 5:case 6:return m(this.date,"%A")}},e.prototype.formatDate=function(){var t;return t="%b %e",this.calendarDate.occursThisYear()||(t+=", %Y"),m(this.date,t)},e.prototype.formatTime=function(){return m(this.date,"%l:%M%P")},e}(),c=function(t){return new e(t).formatDate()},d=function(t){return new e(t).toString()},l=function(t){return new e(t).toTimeOrDateString()},h=function(t){var r;return(r=new e(t).relativeWeekday())?r.charAt(0).toUpperCase()+r.substring(1):void 0},n=!1,f=function(t){return n&&t(),document.addEventListener("time:elapse",t),("undefined"!=typeof Turbolinks&&null!==Turbolinks?Turbolinks.supported:void 0)?document.addEventListener("page:update",t):"function"==typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,r){return jQuery.trim(r.responseText)?t():void 0}):void 0},s=function(t,e){return f(function(){var r,n,a,u,i;for(u=document.querySelectorAll(t),i=[],n=0,a=u.length;a>n;n++)r=u[n],i.push(e(r));return i})},document.addEventListener("DOMContentLoaded",function(){var t;return n=!0,t="textContent"in document.body?"textContent":"innerText",s("time[data-local]:not([data-localized])",function(e){var r,n,a,u;return r=e.getAttribute("datetime"),n=e.getAttribute("data-format"),a=e.getAttribute("data-local"),u=new Date(Date.parse(r)),isNaN(u)?void 0:(e.hasAttribute("title")||e.setAttribute("title",m(u,"%B %e, %Y at %l:%M%P %Z")),e[t]=function(){var t,r;switch(a){case"date":return e.setAttribute("data-localized",!0),c(u);case"time":return e.setAttribute("data-localized",!0),m(u,n);case"time-ago":return d(u);case"time-or-date":return l(u);case"weekday":return null!=(t=h(u))?t:"";case"weekday-or-date":return null!=(r=h(u))?r:c(u)}}())})}),y=function(){var t;return t=document.createEvent("Events"),t.initEvent("time:elapse",!0,!0),document.dispatchEvent(t)},setInterval(y,6e4),this.LocalTime={relativeDate:c,relativeTimeAgo:d,relativeTimeOrDate:l,relativeWeekday:h,run:y,strftime:m})}).call(this);